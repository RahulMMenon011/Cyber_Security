# Vulnerability assessment with metasploit

### metasploitable2 in linux

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/a9bf9a77-32af-45e7-90aa-c1698b60f8f1)

Scanning with nmap

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/3b113f66-788d-4ca0-951a-a651959cd486)

There are many exploit here

Firstly we choose the vsftpd 2.3.4

We search this exploit in the metasploit using search command

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/4b864fbd-5641-4945-8166-a1633bb48402)

now we can use this exploit using `use 0` command

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/20a2fe69-3790-459b-a7ba-3cd351d92b2a)

after using the `info 0` we could see that we need to set the RHOSTS

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/47f0c76e-30d1-4f76-b60f-02bce4b72d1b)

after setting the host, running the command we were able to get root shell access into the metasploit system

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/ff3df00a-1db7-4b55-9d55-a0fd61490db7)

Samba is running on port 139 and 445 so we will use a samba based exploit next

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/2133a185-8c95-4638-99e4-fa6559c1137c)

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/3662bb63-4ad5-4a03-849a-c13e10669368)

selected the exploit, now to assing the RHOST

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/b3fc7c1d-0382-48d6-a208-137b0afc53e1)

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/922c63d7-b9c3-421c-bee1-3149f24cc699)

exploit worked and a reverse root shell was established to the metasploitable machine.

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/db3008fc-79ea-4e1b-bdaa-038c9d21a5d8)

### Windows

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/3f2eced8-0199-4121-a42f-2db93355beb6)

This is the target windows machine, we will try to get a remote shell here.

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/b061f30b-c1b2-4568-a8d2-fe98966a6b00)

created a payload.

senting the payload by addind it in the html directory under `/var/www/html/`

![Screenshot 2024-03-21 211837](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/728c6abe-d68e-42c4-9da7-7f1ad937a9a9)

now accessing it in the windows vm by typing in the kali IP as URL 

![Screenshot 2024-03-21 212055](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/8468ea80-faf0-480a-ab6a-1633ce91d8b9)

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/0c2cd03d-6b33-47c7-aaf3-9d09e8206b33)



